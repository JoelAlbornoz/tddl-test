(this["webpackJsonptddl-test"]=this["webpackJsonptddl-test"]||[]).push([[0],{71:function(e,t,a){},72:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),s=a.n(r),o=(a(71),a(11)),i=a(13),l=a(6),b=(a(72),a(54)),d=a.n(b),h=a(1);var j=function(e){var t=Object(n.useState)({options:{chart:{id:"main-chart"},yaxis:{show:!0,labels:{show:!0}},xaxis:{show:!0,categories:e.categories,labels:{show:!0}}},series:[{name:"Crash Risk",data:e.data}]}),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){r({options:{chart:{id:"main-chart",toolbar:{show:!1}},colors:["#ff5588"],yaxis:{show:!0,labels:{formatter:function(e){return(t=e)>100?"%100":"%"+t;var t},style:{fontSize:"16px",colors:"#828282",fontFamily:"Calibri Regular",fontWeight:400,cssClass:"apexcharts-xaxis-label"}}},xaxis:{categories:e.categories,series:[{name:"Crash Risk",data:e.categories}],type:"category",labels:{formatter:function(e){return"x "+e},style:{fontSize:"16px",colors:"#828282",fontFamily:"Calibri Regular",fontWeight:400,cssClass:"apexcharts-xaxis-label"}},axisBorder:{show:!1},axisTicks:{show:!1}}},series:[{name:"Crash Risk",data:e.data}]})}),[e]),Object(h.jsx)(d.a,{options:c.options,series:c.series,type:"line",width:"520"})};var u=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(j,{categories:e.categories,data:e.data})})},O=a(106),g=a(103),x=a(107),m=a(102),f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var p=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(h.jsx)("div",{children:Object(h.jsx)(m.a,{open:e.show,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(h.jsxs)(O.a,{sx:f,children:[Object(h.jsx)(x.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Ingrese el nombre del nuevo usuario"}),Object(h.jsx)(x.a,{id:"modal-modal-description",sx:{mt:2},children:Object(h.jsx)("input",{type:"text",value:c,onChange:function(e){r(e.target.value)}})}),Object(h.jsx)(g.a,{onClick:function(){return e.handleUserData({balance:1e3,bet:0,historial:[],name:c,showUserModal:!1,bestBet:0})},children:"Confirmar"})]})})})},w=a(104),v=a(108);var C=function(e){return Object(h.jsx)(w.a,{className:"card__container__card",children:Object(h.jsxs)(v.a,{children:[Object(h.jsx)("h2",{children:e.currentMessage}),e.countdown>0&&!e.gameRunning&&Object(h.jsxs)("h2",{children:["Game starting in: ",e.countdown]}),Object(h.jsx)("hr",{}),Object(h.jsx)("h4",{children:e.userData.name}),Object(h.jsxs)("h4",{children:["Balance : $",e.userData.balance]}),Object(h.jsxs)("h4",{children:["Bet : $",e.userData.bet]}),Object(h.jsx)("h4",{children:"Bet history: "}),e.userData.historial.map((function(e,t){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("b",{style:{color:e.won?"green":"red"},children:["x",e.multiplicator," ___ $",e.earnings]}),Object(h.jsx)("br",{})]},"hstRslt"+t)})),Object(h.jsxs)("h4",{children:["Best bet:  $",e.userData.bestBet]})]})})};var y=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(e){return r(e)}))}));var s=function(e){switch(e){case 0:return"yellow";case 1:return"gray";case 2:return"brown";default:return"black"}};return Object(h.jsx)(w.a,{className:"card__container__card",children:Object(h.jsxs)(v.a,{children:[Object(h.jsx)("h2",{children:"Top players"}),c.map((function(e,t){return Object(h.jsx)("div",{style:{color:s(t)},children:e.username},"usr-"+e.username)}))]})})},_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var R=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(m.a,{open:e.show,onClose:e.onClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(h.jsxs)(O.a,{sx:_,children:[Object(h.jsx)(x.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"No tienes mas fondos!"}),Object(h.jsx)(g.a,{onClick:function(){return e.handleUserData(Object(i.a)(Object(i.a)({},e.userData),{},{balance:e.userData.balance+1e3})),void e.onClose()},children:"Recargar 1000"})]})})})};var S=function(){var e=JSON.parse(localStorage.getItem("userData")),t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(e||{betting:!1,balance:0,bet:0,bestBet:0,historial:[],name:"",showUserModal:!0}),b=Object(l.a)(s,2),d=b[0],j=b[1],O=Object(n.useState)({gameRunning:!1,countdown:5,currentMessage:"Place your bets",crashChance:5}),x=Object(l.a)(O,2),m=x[0],f=x[1],_=Object(n.useState)([0,5]),S=Object(l.a)(_,2),k=S[0],D=S[1],B=Object(n.useState)([0,1]),M=Object(l.a)(B,2),N=M[0],I=M[1],U=function(){var e=Math.floor(100*Math.random()+1);console.log("roll: "+e+"crash chance: "+m.crashChance),e<=m.crashChance?(f(Object(i.a)(Object(i.a)({},m),{},{crashChance:5,gameRunning:!1,currentMessage:"Crashed, place your bets"})),I([0,1]),D([0,5]),d.betting&&j(Object(i.a)(Object(i.a)({},d),{},{historial:[].concat(Object(o.a)(d.historial),[{multiplicator:N[N.length-1],won:!1,earnings:-d.bet}]).slice(-5),bet:0,betting:!1}))):(D([].concat(Object(o.a)(k),[Math.round(1.42*k[k.length-1]*100)/100])),I([].concat(Object(o.a)(N),[Math.round(1.2*N[N.length-1]*100)/100])),f(Object(i.a)(Object(i.a)({},m),{},{crashChance:1.42*k[k.length-1]}))),localStorage.setItem("userData",JSON.stringify(d))};return Object(n.useEffect)((function(){var e=setInterval((function(){m.gameRunning&&U()}),2e3),t=setInterval((function(){m.gameRunning||""===d.name||(f(Object(i.a)(Object(i.a)({},m),{},{countdown:m.countdown-1})),0===m.countdown&&f(Object(i.a)(Object(i.a)({},m),{},{countdown:5,gameRunning:!0,currentMessage:"Game Running!"})))}),1e3);return function(){clearInterval(e),clearInterval(t)}})),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("b",{children:"Casino Crash Game"})}),Object(h.jsxs)("div",{className:"card__container",children:[Object(h.jsx)(C,{gameRunning:m.gameRunning,countdown:m.countdown,currentMessage:m.currentMessage,className:"card__container__card",userData:d}),Object(h.jsx)(w.a,{className:"card__container__card__middle",children:Object(h.jsx)(v.a,{children:Object(h.jsx)(u,{categories:N,data:k})})}),Object(h.jsx)(y,{}),Object(h.jsx)(p,{handleUserData:j,show:d.showUserModal}),Object(h.jsx)(R,{show:c,handleUserData:j,userData:d,onClose:function(){return r(!1)}})]}),m.gameRunning?Object(h.jsx)(g.a,{style:{width:"30%",marginLeft:"auto",marginRight:"auto",backgroundColor:"#3d4047"},onClick:function(){d.betting&&j(Object(i.a)(Object(i.a)({},d),{},{betting:!1,bet:0,balance:d.balance+d.bet*N[N.length-1],bestBet:d.bet*N[N.length-1]>d.bestBet?d.bet*N[N.length-1]:d.bestBet,historial:[].concat(Object(o.a)(d.historial),[{multiplicator:N[N.length-1],won:!0,earnings:d.bet*N[N.length-1]}]).slice(-5)}))},children:"Retire"}):Object(h.jsx)(g.a,{style:{width:"30%",marginLeft:"auto",marginRight:"auto",backgroundColor:"#3d4047"},onClick:function(){var e;e=100,d.balance>0?j(Object(i.a)(Object(i.a)({},d),{},{bet:e+d.bet,balance:d.balance-e,betting:!0})):r(!0)},children:"Place Bet 100"}),Object(h.jsx)("div",{children:Object(h.jsxs)("footer",{children:["Elias Joel Albornoz \xa9 2021",Object(h.jsx)("a",{href:"https://www.linkedin.com/in/joel-albornoz/",children:"Linkedin"})]})})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,109)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),k()}},[[79,1,2]]]);
//# sourceMappingURL=main.3d32c9a2.chunk.js.map